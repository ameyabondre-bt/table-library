<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Advanced Table Features</title>
    <link href="../src/table-library.css" rel="stylesheet" />
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
        background: #f8fafc;
      }
      .container {
        max-width: 1400px;
        margin: 0 auto;
      }
      h1 {
        color: #1e293b;
        margin-bottom: 30px;
      }
      .code-block {
        background: #1e293b;
        color: #e2e8f0;
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
        font-family: monospace;
      }
      .feature {
        background: white;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üöÄ Advanced Table Features</h1>

      <div class="feature">
        <h3>Complex Data with Actions & Checkboxes</h3>
        <div id="advanced-table"></div>
      </div>

      <div class="code-block">
        // COMPLEX DATA WITH ALL FEATURES<br />
        const headings = ["Center", "Count", "Active", "Join Date", "Profile",
        "Actions"];<br />
        const data = [<br />
        &nbsp;&nbsp;["Pimple Saudagar", 37, false, new Date("2024-01-01"),
        <br />
        &nbsp;&nbsp;&nbsp;&nbsp;{ city: "Mumbai", dept: "HR" }, <br />
        &nbsp;&nbsp;&nbsp;&nbsp;{ <br />
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;placeholder: "Send WhatsApp", <br />
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: "button", <br />
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checkbox: true, <br />
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checkboxValue: false, <br />
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function: "sendWhatsApp" <br />
        &nbsp;&nbsp;&nbsp;&nbsp;}<br />
        &nbsp;&nbsp;]<br />
        ];<br /><br />
        // DATA MODIFICATION CONFIG<br />
        const modifyConfig = {<br />
        &nbsp;&nbsp;"Active": (value) => value ? "‚úÖ Active" : "‚ùå Inactive", //
        Transform booleans to emojis<br />
        &nbsp;&nbsp;"Center": (value) => "üè´ " + value, // Add emoji prefix<br />
        &nbsp;&nbsp;"Join Date": (value) => {<br />
        &nbsp;&nbsp;&nbsp;&nbsp;if (!value) return "-";<br />
        &nbsp;&nbsp;&nbsp;&nbsp;const daysAgo = Math.floor((new Date() - new
        Date(value)) / (1000 * 60 * 60 * 24));<br />
        &nbsp;&nbsp;&nbsp;&nbsp;return `${value.toLocaleDateString()}
        (${daysAgo} days ago)`; // Format date with days ago<br />
        &nbsp;&nbsp;}<br />
        };<br /><br />
        // INITIALIZE WITH ALL FEATURES<br />
        initTableLibrary({<br />
        &nbsp;&nbsp;container: "#advanced-table",<br />
        &nbsp;&nbsp;headings: headings,<br />
        &nbsp;&nbsp;data: data,<br />
        &nbsp;&nbsp;modifyConfig: modifyConfig // Apply data transformations<br />
        });
      </div>
    </div>

    <script src="../src/table-library.js"></script>
    <script>
      // User functions for actions
      function sendWhatsApp(rowData, rowIndex) {
        alert(`üì± WhatsApp sent to ${rowData[0]}`); // Send WhatsApp notification
      }

      function sendWhatsAppCheckbox(rowData, rowIndex, checked) {
        if (checked) {
          console.log(`‚úÖ ${rowData[0]} - WhatsApp notifications enabled`); // Log to console
        } else {
          console.log(`‚ùå ${rowData[0]} - WhatsApp notifications disabled`); // Log to console
        }
      }

      function openProfile(rowData, rowIndex) {
        alert(`üë§ Opening profile: ${JSON.stringify(rowData[4], null, 2)}`); // Show profile data
      }

      function downloadReport(rowData, rowIndex) {
        alert(`üìÑ Downloading report for ${rowData[0]}`); // Download report
      }

      // Advanced table data
      const headings = [
        "Center",
        "Count",
        "Active",
        "Join Date",
        "Profile",
        "Actions",
      ];
      const data = [
        [
          "Pimple Saudagar",
          37,
          false,
          new Date("2024-01-01"),
          { city: "Mumbai", dept: "HR" },
          {
            placeholder: "Send WhatsApp",
            type: "button",
            checkbox: true,
            checkboxValue: false,
            function: "sendWhatsApp",
          },
        ],
        [
          "Kothrud",
          0,
          true,
          new Date(),
          { city: "Pune", tags: ["tech", "startup"] },
          {
            placeholder: "Open Profile",
            type: "button",
            function: "openProfile",
          },
        ],
        [
          "Baner",
          15,
          true,
          new Date("2023-12-15"),
          { city: "Pune", employees: 25 },
          {
            placeholder: "Download Report",
            type: "button",
            checkbox: true,
            checkboxValue: true,
            function: "downloadReport",
          },
        ],
      ];

      // Data modification configuration
      const modifyConfig = {
        Active: (value) => (value ? "‚úÖ Active" : "‚ùå Inactive"), // Transform booleans to emojis
        Center: (value) => "üè´ " + value, // Add emoji prefix to centers
        "Join Date": (value) => {
          if (!value) return "-"; // Handle null dates
          const daysAgo = Math.floor(
            (new Date() - new Date(value)) / (1000 * 60 * 60 * 24)
          );
          return `${value.toLocaleDateString()} (${daysAgo} days ago)`; // Format with days calculation
        },
      };

      // Initialize advanced table
      initTableLibrary({
        container: "#advanced-table",
        headings: headings,
        data: data,
        modifyConfig: modifyConfig, // Apply custom formatting
      });
    </script>
  </body>
</html>
