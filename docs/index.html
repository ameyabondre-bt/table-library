<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Table Library Demo</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/ajay-goswami/bt-table-library@main/src/table-library.css"
    />
    <script src="https://cdn.jsdelivr.net/gh/ajay-goswami/bt-table-library@main/src/table-library.js"></script>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
        background: #f5f5f5;
      }
      .container {
        max-width: 1400px;
        margin: 0 auto;
      }
      h1 {
        color: #333;
        text-align: center;
        margin-bottom: 30px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Table Library Demo</h1>
      <div id="demo-table"></div>
    </div>

    <script>
      const headings = [
        "Center",
        "Count",
        "Active",
        "Join Date",
        "Profile",
        "Actions",
      ];

      const data = [
        [
          "Pimple Saudagar",
          37,
          false,
          new Date("2024-01-01"),
          { city: "Mumbai", dept: "HR" },
          {
            placeholder: "Send WhatsApp",
            type: "button",
            checkbox: true,
            checkboxValue: false,
            function: "sendWhatsApp",
          },
        ],
        [
          "Kothrud",
          0,
          true,
          new Date(),
          { city: "Pune", tags: ["tech", "startup"] },
          {
            placeholder: "Open Profile",
            type: "button",
            function: "openProfile",
          },
        ],
        [
          "Baner",
          15,
          true,
          new Date("2023-12-15"),
          { city: "Pune", employees: 25 },
          {
            placeholder: "Download Report",
            type: "button",
            checkbox: true,
            checkboxValue: true,
            function: "downloadReport",
          },
        ],
      ];

      const modifyConfig = {
        Active: (value) => (value ? "‚úÖ Active" : "‚ùå Inactive"),
        Center: (value) => "üè´ " + value,
        "Join Date": (value) => {
          if (!value) return "-";
          const daysAgo = Math.floor(
            (new Date() - new Date(value)) / (1000 * 60 * 60 * 24)
          );
          return `${value.toLocaleDateString()} (${daysAgo} days ago)`;
        },
      };

      // Initialize table
      initTableLibrary({
        container: "#demo-table",
        headings: headings,
        data: data,
        modifyConfig: modifyConfig,
      });

      // User functions
      function sendWhatsApp(rowData, rowIndex) {
        alert(`üì± WhatsApp sent to ${rowData[0]}`);
        console.log("WhatsApp function called with:", rowData);
      }

      function openProfile(rowData, rowIndex) {
        alert(`üë§ Opening profile for ${rowData[0]}`);
        console.log("Profile data:", rowData[4]);
      }

      function downloadReport(rowData, rowIndex) {
        alert(`üìÑ Downloading report for ${rowData[0]}`);
        console.log("Report data:", rowData);
      }

      function downloadReportCheckbox(rowData, rowIndex, checked) {
        if (checked) {
          console.log(`‚úÖ ${rowData[0]} - Auto-download enabled`);
        } else {
          console.log(`‚ùå ${rowData[0]} - Auto-download disabled`);
        }
      }
    </script>
  </body>
</html>
